(function(_){var $=!_.support.opacity&&!_.support.style&&window.XMLHttpRequest==undefined;_.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:true,overlayOpacity:0.6,overlayColor:"#999",draggable:false,okButton:" \u786e&nbsp;\u5b9a ",cancelButton:" \u53d6&nbsp;\u6d88 ",defaultButton:false,alert:function($,A,B){if(A==null)A="Alert";_.alerts._show(A,$,null,"alert",function($){if(B)B($)})},confirm:function($,A,B){if(A==null)A="Confirm";_.alerts._show(A,$,null,"confirm",function($){if(B)B($)})},prompt:function($,C,A,B){if(A==null)A="Prompt";_.alerts._show(A,$,C,"prompt",function($){if(B)B($)})},load:function($,A,B){if($==null)$="\u6b63\u5728\u5904\u7406\u6570\u636e\uff0c\u8bf7\u7a0d\u5019...";if(A==null)A="\u8bf7\u7b49\u5f85";if(B==null)B="load";_.alerts._load(A,$,B)},_show:function(B,H,E,F,D){_.alerts._hide();_.alerts._overlay("show");var G="<div id=\"popup_container\">",J="fixed";if($){J="absolute";G+="<iframe scrolling=\"no\" border=\"0\" frameborder=\"0\" tabindex=\"-1\" style=\"position:absolute;top: 0;left: 0;width:100%;height:100%;background: transparent;z-index:-1;\"></iframe>"}G+="<h1 id=\"popup_title\"></h1><div id=\"popup_content\"><div id=\"popup_message\"></div></div></div>";_("body").append(G);_("#popup_container").css({position:J,zIndex:99999,padding:0,margin:0});_("#popup_title").text(B);_("#popup_content").addClass(F);var A=_("#popup_message");A.html(H.replace(/\n/g,"<br />"));var I=_("#popup_container");I.css({minWidth:I.outerWidth(),maxWidth:I.outerWidth()});_.alerts._reposition();_.alerts._maintainPosition(true);switch(F){case"alert":A.after("<div id=\"popup_panel\"><input type=\"button\" value=\""+_.alerts.okButton+"\" id=\"popup_ok\" /></div>");_("#popup_ok").click(function(){_.alerts._hide();D(true)});_("#popup_ok").focus().keypress(function($){if($.keyCode==13||$.keyCode==27){_("#popup_ok").trigger("click");return false}});break;case"confirm":A.after("<div id=\"popup_panel\"><input type=\"button\" value=\""+_.alerts.okButton+"\" id=\"popup_ok\" />&nbsp;&nbsp;<input type=\"button\" value=\""+_.alerts.cancelButton+"\" id=\"popup_cancel\" /></div>");_("#popup_ok").click(function(){_.alerts._hide();if(D)D(true)});_("#popup_cancel").click(function(){_.alerts._hide();if(D)D(false)});if(_.alerts.defaultButton)_("#popup_ok").focus();else _("#popup_cancel").focus();_("#popup_ok").keypress(function($){if($.keyCode==13){_("#popup_ok").trigger("click");return false}});_("#popup_cancel").keypress(function($){if($.keyCode==27){_("#popup_cancel").trigger("click");return false}});break;case"prompt":A.append("<br /><input type=\"text\" id=\"popup_prompt\" />").after("<div id=\"popup_panel\"><input type=\"button\" value=\""+_.alerts.okButton+"\" id=\"popup_ok\" />&nbsp;&nbsp;<input type=\"button\" value=\""+_.alerts.cancelButton+"\" id=\"popup_cancel\" /></div>");_("#popup_ok").click(function(){var $=_("#popup_prompt").val();_.alerts._hide();if(D)D($)});_("#popup_cancel").click(function(){_.alerts._hide();if(D)D(null)});_("#popup_prompt, #popup_ok, #popup_cancel").keypress(function($){if($.keyCode==13){_("#popup_ok").trigger("click");return false}if($.keyCode==27){_("#popup_cancel").trigger("click");return false}});if(E)_("#popup_prompt").val(E);_("#popup_prompt").focus().select();break}if(_.alerts.draggable){try{_("#popup_container").draggable({handle:_("#popup_title")});_("#popup_title").css({cursor:"move"})}catch(C){}}},_load:function(A,D,B){_.alerts._hide();_.alerts._overlay("show");var C="<div id=\"popup_container\">",F="fixed";if($){F="absolute";C+="<iframe scrolling=\"no\" border=\"0\" frameborder=\"0\" tabindex=\"-1\" style=\"position:absolute;top: 0;left: 0;width:100%;height:100%;background: transparent;z-index:-1;\"></iframe>"}C+="<h1 id=\"popup_title\"></h1><div id=\"popup_content\"><div id=\"popup_load\"></div></div></div>";_("body").append(C);_("#popup_container").css({position:F,zIndex:99999,padding:0,margin:0});_("#popup_title").text(A);_("#popup_load").html(D).addClass(B);var E=_("#popup_container");E.css({minWidth:E.outerWidth(),maxWidth:E.outerWidth()});_.alerts._reposition();_.alerts._maintainPosition(true)},_hide:function(){_("#popup_container").remove();_.alerts._overlay("hide");_.alerts._maintainPosition(false)},_overlay:function($){switch($){case"show":_.alerts._overlay("hide");_("body").append("<div id=\"popup_overlay\"></div>");_("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:_(document).height(),background:_.alerts.overlayColor,opacity:_.alerts.overlayOpacity});break;case"hide":_("#popup_overlay").remove();break}},_reposition:function(){var D=((_(window).height()/2)-(_("#popup_container").outerHeight()/2))+_.alerts.verticalOffset,C=((_(window).width()/2)-(_("#popup_container").outerWidth()/2))+_.alerts.horizontalOffset;if(D<0)D=0;if(C<0)C=0;if($){var B=_("#popup_container"),A=_(window).scrollTop();if(A>0)D=A+D;else D=document.documentElement.scrollTop+D;B.css("top",D+"px")}else _("#popup_container").css({top:D+"px"});_("#popup_container").css({left:C+"px"})},_maintainPosition:function(A){if(_.alerts.repositionOnResize)switch(A){case true:_(window).bind("resize",_.alerts._reposition);if($)_(window).bind("scroll",_.alerts._reposition);break;case false:_(window).unbind("resize",_.alerts._reposition);if($)_(window).bind("scroll",_.alerts._reposition);break}}},jAlert=function($,A,B){_.alerts.alert($,A,B)};jConfirm=function($,A,B){_.alerts.confirm($,A,B)};jPrompt=function($,C,A,B){_.alerts.prompt($,C,A,B)};jLoad=function($,A,B){_.alerts.load($,A,B)};jHide=function(){_.alerts._hide()}})(jQuery)